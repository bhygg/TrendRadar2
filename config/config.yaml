# ================= èˆ†è®ºçƒ­ç‚¹ç›‘æµ‹ç³»ç»Ÿ =================
# ç‰ˆæœ¬: 4.2 | æ”¯æŒåŒæœºå™¨äººï¼Œä¸“æ³¨é‡å¤§çƒ­ç‚¹

app:
  version_check_url: "https://raw.githubusercontent.com/sansan0/TrendRadar/refs/heads/master/version"
  show_version_update: false
  data_retention_days: 30
  log_level: "INFO"

crawler:
  request_interval: 1000
  enable_crawler: true
  use_proxy: false
  default_proxy: "http://127.0.0.1:10086"
  user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
  timeout: 30
  retry_times: 3

# ğŸ¯ æŠ¥å‘Šé…ç½®
report:
  mode: "incremental"
  rank_threshold: 5
  sort_by_position_first: true
  max_news_per_keyword: 5
  enable_hot_topic_clustering: true
  clustering_method: "keyword_group"
  min_group_score: 0.6
  
  # å…³é”®è¯åˆ†ç»„æ˜¾ç¤º
  group_display:
    enabled: true
    max_groups: 15
    min_items_per_group: 1
    collapse_single_item: false
    show_group_summary: true

# ğŸ“Š æƒé‡é…ç½®ï¼ˆå®æ—¶çƒ­ç‚¹å‹ï¼‰
weight:
  rank_weight: 0.65
  frequency_weight: 0.25
  hotness_weight: 0.1
  
  # çƒ­ç‚¹æå‡
  hot_topic_boost:
    enabled: true
    min_platform_count: 2
    boost_factor: 1.4
    cross_platform_threshold: 3

# ğŸš¨ é€šçŸ¥é…ç½® - åŒæœºå™¨äººæ”¯æŒ
notification:
  enable_notification: true
  message_batch_size: 3500
  feishu_batch_size: 8000
  batch_send_interval: 1
  feishu_message_separator: "\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n"
  
  # é£ä¹¦æ¶ˆæ¯æ ¼å¼ä¼˜åŒ–
  feishu_message_format: "rich_text"
  use_feishu_card: false
  card_header_color: "blue"
  max_items_per_message: 20
  truncate_long_messages: true
  truncate_length: 8000
  
  # åŒæœºå™¨äººé…ç½®
  multiple_bots:
    enabled: true
    bots:
      - name: "primary"
        webhook_env: "FEISHU_WEBHOOK_URL"
        enabled: true
        priority: 1
        
      - name: "secondary"
        webhook_env: "FEISHU_WEBHOOK_URL_2"
        enabled: true
        priority: 2
    
    # å‘é€ç­–ç•¥
    send_strategy: "parallel"  # parallel: åŒæ—¶å‘é€, sequential: é¡ºåºå‘é€
    retry_failed_bots: true
    max_retry_attempts: 2
  
  # ç´§æ€¥é€šçŸ¥é…ç½®
  emergency_notification:
    enabled: true
    keywords: ["çªå‘", "ç´§æ€¥", "é‡å¤§", "çˆ†ç‚¸", "åœ°éœ‡", "äº‹æ•…", "æ­»äº¡", "ä¼¤äº¡", "å†²çª", "æˆ˜äº‰"]
    min_rank: 3
    send_to_all_bots: true
    use_different_format: true
    emergency_format: "card"
    emergency_color: "red"
  
  # æ¨é€æ—¶é—´çª—å£ï¼ˆå¯é€‰ï¼‰
  push_window:
    enabled: false
    time_range:
      start: "08:00"
      end: "23:00"
    only_weekdays: false
    
  # Webhooké…ç½®ï¼ˆç•™ç©ºï¼Œé€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®ï¼‰
  webhooks:
    feishu_url: ""
    feishu_url_2: ""

# ğŸ“ˆ å¹³å°é…ç½®ï¼ˆç²¾ç®€ä¼˜åŒ–ç‰ˆï¼‰
platforms:
  # æ ¸å¿ƒèˆ†è®ºå¹³å°
  - id: "weibo"
    name: "å¾®åš"
    weight: 2.0
    enabled: true
    
  - id: "baidu"
    name: "ç™¾åº¦çƒ­æœ"
    weight: 1.8
    enabled: true
    
  - id: "zhihu"
    name: "çŸ¥ä¹"
    weight: 1.6
    enabled: true
    
  - id: "toutiao"
    name: "ä»Šæ—¥å¤´æ¡"
    weight: 1.5
    enabled: true
    
  - id: "douyin"
    name: "æŠ–éŸ³"
    weight: 1.4
    enabled: true
    
  - id: "bilibili-hot-search"
    name: "bilibili çƒ­æœ"
    weight: 1.3
    enabled: true
    
  # æƒå¨åª’ä½“
  - id: "thepaper"
    name: "æ¾æ¹ƒæ–°é—»"
    weight: 1.4
    enabled: true
    
  - id: "cankaoxiaoxi"
    name: "å‚è€ƒæ¶ˆæ¯"
    weight: 1.3
    enabled: true
    
  - id: "ifeng"
    name: "å‡¤å‡°ç½‘"
    weight: 1.2
    enabled: true
    
  # è´¢ç»å¹³å°
  - id: "wallstreetcn-hot"
    name: "åå°”è¡—è§é—»"
    weight: 1.1
    enabled: true
    
  - id: "cls-hot"
    name: "è´¢è”ç¤¾"
    weight: 1.1
    enabled: true

# ğŸ¯ æ€§èƒ½é…ç½®
performance:
  max_concurrent_requests: 8
  request_delay_ms: 800
  timeout_ms: 25000
  max_retries: 3
  cache_enabled: true
  cache_ttl_minutes: 15
  request_queue_size: 50

# ğŸ“ å­˜å‚¨é…ç½®
storage:
  data_dir: "./output"
  hot_topics_dir: "./output/hot_topics"
  reports_dir: "./output/reports"
  images_dir: "./output/images"
  
  backup:
    enabled: true
    max_backups: 7
    compress_backups: true
    
  cleanup:
    enabled: true
    keep_days: 14
    clean_old_data: true
